{% set build_version = "2.1.0" %}

package:
  name: jpeg-turbo
  version: {{ build_version }}

source:
  git_url: https://github.com/libjpeg-turbo/libjpeg-turbo
  git_rev: {{ build_version }}

build:
  number: 2

requirements:
  build: 
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    # Use pins to control cos6/cos7 match
    - libgcc-ng  {{ libgcc }}                          # [x86_64 and c_compiler_version == "7.2.*"]
    - libstdcxx-ng  {{ libstdcxx }}                    # [x86_64 and c_compiler_version == "7.2.*"]
    - autoconf
    - automake
    - libtool
    - cmake {{ cmake }}
    - make
    - nasm {{ nasm }} # [x86_64]
  host:
    # Use pins to control cos6/cos7 match
    - libgcc-ng  {{ libgcc }}                          # [x86_64 and c_compiler_version == "7.2.*"]
    - libstdcxx-ng  {{ libstdcxx }}                    # [x86_64 and c_compiler_version == "7.2.*"]

about:
  home: http://www.libjpeg-turbo.org/
  license: IJG, modified 3-clause BSD and zlib
  license_file: LICENSE.md
  summary: IJG JPEG compliant runtime library with SIMD and other optimizations

extra:
  recipe-maintainers:
    - open-ce/open-ce-dev-team
